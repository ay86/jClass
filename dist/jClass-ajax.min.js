!function($){$&&($=$.fn.extend($,{ajax:function(jConfig){function __fInitXHR(){var e;return window.XMLHttpRequest?e=new window.XMLHttpRequest:window.ActiveXObject&&(e=new ActiveXObject("Microsoft.XMLHTTP")),e}function __fRun(){var aQuery=[];"GET"===jConfig.method&&sSendData&&aQuery.push(sSendData),jConfig.cache&&"HEAD"!==jConfig.method||aQuery.push("_="+Math.random()),aQuery.length&&(jConfig.url+=(~jConfig.url.indexOf("?")?"&":"?")+aQuery.join("&")),xhr.open(jConfig.method,jConfig.url,jConfig.async),"POST"===jConfig.method&&xhr.setRequestHeader("Content-type","application/x-www-form-urlencoded;charset="+jConfig.charset),xhr.onreadystatechange=function(){if(4===this.readyState)switch(this.status){case 200:var xResult;switch(jConfig.method){case"HEAD":switch(jConfig.dataType){case"JSON":for(var aAllResHeader=this.getAllResponseHeaders().split("\r\n"),jAllResHeader={},i=0,l=aAllResHeader.length;l>i;i++){var sResHeader=aAllResHeader[i],nIndex=sResHeader.indexOf(": ");nIndex>-1&&(jAllResHeader[sResHeader.substr(0,nIndex)]=sResHeader.substr(nIndex+2))}xResult=jAllResHeader;break;case"FUNCTION":var _this=this;xResult=function(e){return _this.getResponseHeader(e)};break;default:xResult=this.getAllResponseHeaders()}break;default:switch(jConfig.dataType){case"JSON":xResult=eval("("+this.responseText+")");break;case"XML":xResult=this.responseXML;break;default:xResult=this.responseText}}jConfig.success.call(jConfig,xResult,this);break;default:jConfig.error.call(jConfig,this.status)}},xhr.send(sSendData)}if(jConfig=$.fn.extend({method:"GET",dataType:"TEXT",charset:"utf-8",cache:!0,async:!0,retryCount:3,success:function(){console.log("Not callback success(), but AJAX request is successfully!")},error:function(){console.log("Request is Failed.")}},this.globalAjax,jConfig),jConfig.retry=function(){return jConfig.retryCount<=0?!1:(jConfig.retryCount--,void __fRun())},!jConfig.url||"string"!=typeof jConfig.url)return null;var xhr=__fInitXHR(),sSendData=null;if("object"==typeof jConfig.data){var aPara=[];for(var v in jConfig.data)jConfig.data[v]instanceof Array?aPara.push(v+"="+jConfig.data[v].join("&"+v+"=")):aPara.push(v+"="+jConfig.data[v]);sSendData=aPara.join("&")}else"string"==typeof jConfig.data&&(sSendData=jConfig.data);return jConfig.method=jConfig.method.toUpperCase(),jConfig.dataType=jConfig.dataType.toUpperCase(),__fRun(),xhr},ajaxSet:function(e){this.globalAjax=e}}))}(jClass);